<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>


        <!-- Bootstrap core CSS-->
        <link href="${facesContext.externalContext.requestContextPath}/resources/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"></link>
        <!-- Custom fonts for this template-->
        <link href="${facesContext.externalContext.requestContextPath}/resources/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"></link>
        <!-- Custom styles for this template-->
        <link href="${facesContext.externalContext.requestContextPath}/resources/css/sb-admin.css" rel="stylesheet"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
        <title>Login Page</title>
        <!--	<link type="text/css"
                        href="${facesContext.externalContext.requestContextPath}/resources/css/style.css"
                        rel="stylesheet" />
                <link type="image/x-icon"
                        href="${facesContext.externalContext.requestContextPath}/resources/images/favicon.ico"
                        rel="shortcut icon" />-->
    </h:head>

    <h:body class="bg-dark">

        <div class="container">
            <div class="card card-register mx-auto mt-5">
                <div class="card-header">Login</div>
                <div class="card-body">



                    <h:form id="entryForm">




                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-md-6">
                                    <label for="exampleInputName">Prénom</label>
                                    <h:inputText id="prenom" required="true" value="#{loginBean.utilisateur.prenom}" class="form-control" title="Prénom"  />
                                </div>
                                <div class="col-md-6">
                                    <label for="exampleInputLastName">Nom</label>
                                    <h:inputText id="nom" required="true" value="#{loginBean.utilisateur.nom}" class="form-control" title="Nom" />
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                                <div class="col-md-6">
                                    <label for="exampleInputName">Email</label>
                                    <h:inputText id="email" required="true" class="form-control" validatorMessage="#{loginBean.utilisateur.client.email} is not valid email" value="#{loginBean.utilisateur.client.email}" title="Email">
                                     <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                    </h:inputText>
                                </div>
                                <div class="col-md-6">
                                    <label for="exampleInputLastName">Username</label>
                                    <h:inputText id="username" required="true" value="#{loginBean.utilisateur.username}" class="form-control" title="Username" />
                                </div>
                            </div>
                       
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-md-6">
                                    <label for="exampleInputPassword1">Password</label>
                                    <h:inputSecret id="password" required="true" class="form-control"  value="#{loginBean.utilisateur.password}"/>

                                </div>
                                <div class="col-md-6">
                                    <label for="exampleConfirmPassword">Confirm password</label>
                                    <h:inputSecret id="confirmpassword" required="true" class="form-control"  value="#{loginBean.utilisateur.password}"/>

                                </div>
                            </div>
                        </div>
                        <h:commandButton id="loginButton" class="btn btn-primary btn-block" action="#{loginBean.creeUtilisateur()}"
                                         value="Enregistrer">
                        </h:commandButton>

                    </h:form>

                    <div class="text-center">
                        <a class="d-block small mt-3" href="${facesContext.externalContext.requestContextPath}/faces/login.xhtml">Login Page</a>
                        <a class="d-block small" href="${facesContext.externalContext.requestContextPath}/faces/forgot-password.html">Forgot Password?</a>
                 <h:messages style = "color:red"/>
                    </div>

                </div>
            </div>
        </div>
    </h:body>
</html>